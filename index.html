<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>
  <meta charset="utf-8">
  <title>water</title>
  <style>
  .content{
  position: relative;
}
.item{
  position: absolute;
  margin-top: 10px;
  width: 200px;
  margin-left: 10px;
  transition: all 1s;
}
.h1{
  height: 200px;
  background-color: red;
}
.h2{
  height: 300px;
  background-color: blue;
  
}
.h3{
  height: 350px;
  background-color: yellow;
}
  </style>
</head>
<body>
<div class="content">
  <div class="item h1">1</div>
  <div class="item h2">2</div>
  <div class="item h3">3</div>
  <div class="item h1">4</div>
  <div class="item h2">5</div>
  <div class="item h2">6</div>
  <div class="item h3">7</div>
  <div class="item h1">8</div>
  <div class="item h3">9</div>
  <div class="item h1">10</div>
  <div class="item h2">11</div>
  <div class="item h1">12</div>
  <div class="item h2">13</div>
  <div class="item h1">14</div>
</div>
<script>
    waterfull()
$(window).resize(function(){
  waterfull()
})
function waterfull(){

var colLength= parseInt($('.content').width()/$('.item').width())
var itemArr=[]

for(i=0;i< colLength;i++){
  itemArr[i]=0
}

$('.item').each(function(){
  var minValue=Math.min.apply(null,itemArr)
  var minIndex=itemArr.indexOf(minValue)
  
  $(this).css({
    top: itemArr[minIndex],
    left: $('.item').outerWidth(true)*minIndex
  })
  itemArr[minIndex] +=$(this).outerHeight(true)
})
}
</script>
</body>
</html>